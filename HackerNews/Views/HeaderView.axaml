<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:HackerNews.ViewModels"
             mc:Ignorable="d" d:DesignWidth="450" d:DesignHeight="100"
             x:Class="HackerNews.Views.HeaderView"
             x:CompileBindings="True" x:DataType="vm:MainViewViewModel">

  <Design.DataContext>
    <vm:MainViewViewModel />
  </Design.DataContext>

  <DockPanel Background="{DynamicResource HeaderTitleBackground}"
             Height="64">

    <!-- Hamburger Menu -->

    <Button Command="{Binding NavigationCommand}"
            Width="80"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Stretch"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            Background="Transparent"
            DockPanel.Dock="Left">
      <Panel Width="24" 
             Height="24" 
             ClipToBounds="False"
             DataContext="{Binding Navigation}">
        <PathIcon Data="{DynamicResource NavigationIcon}" 
                  Height="24"
                  Width="24"
                  IsVisible="{Binding !CanGoBack}" />
        <PathIcon Data="{DynamicResource ArrowLeftIcon}" 
                  Height="24"
                  Width="24"
                  IsVisible="{Binding CanGoBack}" />
      </Panel>
    </Button>

    <!-- Settings Menu -->

    <Button Command="{Binding LoadCommand}"
            Width="52"
            HorizontalAlignment="Right"
            VerticalAlignment="Stretch"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            Background="Transparent"
            DockPanel.Dock="Right">
      <StackPanel Spacing="4"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  DockPanel.Dock="Left">
        <Ellipse Fill="{DynamicResource HamburgerBackground}"
                 Width="5"
                 Height="5"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center" />
        <Ellipse Fill="{DynamicResource HamburgerBackground}"
                 Width="5"
                 Height="5"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center" />
        <Ellipse Fill="{DynamicResource HamburgerBackground}"
                 Width="5"
                 Height="5"
                 HorizontalAlignment="Center"
                 VerticalAlignment="Center" />
      </StackPanel>
    </Button>
    
    <!-- Search -->
    
    <Button Command="{Binding SearchCommand}"
            Width="52"
            HorizontalAlignment="Right"
            VerticalAlignment="Stretch"
            HorizontalContentAlignment="Stretch"
            VerticalContentAlignment="Stretch"
            Background="Transparent"
            Margin="0,0,24,0"
            DockPanel.Dock="Right">
      <PathIcon Data="{DynamicResource SearchIcon}" 
                Height="24"
                Width="24" />
    </Button>

    <!-- Header Text -->

    <StackPanel Spacing="6">
      <!-- Title -->
      <TextBlock Text="{Binding CurrentItems.Title, FallbackValue=Title}"
                 TextWrapping="Wrap"
                 Foreground="{DynamicResource HeaderTitleForeground}"
                 FontSize="{DynamicResource HeaderTitleFontSize}"
                 FontWeight="Regular"
                 Margin="12,6,12,0" />
      <!-- Last updated -->
      <TextBlock Text="Last updated 0 min ago"
                 TextWrapping="Wrap"
                 Foreground="{DynamicResource HeaderLastUpdatedForeground}"
                 FontSize="{DynamicResource HeaderLastUpdatedFontSize}"
                 FontWeight="Regular"
                 Margin="12,0,12,6" />
    </StackPanel>

  </DockPanel>

</UserControl>

